<!DOCTYPE html>
<ion-header>
  <ion-navbar>
    <ion-title text-center>
      New Booking
    </ion-title>

    <ion-buttons end>
        <livechat-bubble></livechat-bubble>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content class="stepsContainer" padding text-center>
    <div class="mapContainer">
        <ab-map 
            [lat]="LatLng.lat" 
            [lng]="LatLng.lng"
            [zoom]="zoom"
            [radius]="bookingRequest.distance"
        >
        </ab-map>
        <!--<div class="glassfilter"></div>-->
    </div>
    <div class="">
        <ion-row>
            <div [ngSwitch]="loading" width-40 offset-10 style="margin-left: auto;">
                <h2 class="hotelResultsHeading heading-number" *ngSwitchCase="false">{{hotelsFound}}</h2>
                <h2 class="hotelResultsHeading heading-number" *ngSwitchCase="true"><ion-spinner></ion-spinner></h2>
                <h2 *ngSwitchDefault class="hotelResultsHeading heading-number"><ion-spinner></ion-spinner></h2>
            </div>
            <h2 width-40 offset-10 class="hotelResultsHeading">Hotels Found</h2>
        </ion-row>        
    </div>
    <div class="stepThreeConfigs" text-center>
        <!--<ion-item>-->
            <ion-range color="default" min="500" max="5000" step="500" snaps="true" pin=true (ionChange)="distanceChanged(bookingRequest.distance)" [(ngModel)]="bookingRequest.distance">
            </ion-range>
        <!--</ion-item>-->
        <div class="starsContainer">
            <!--<h2>Somewhere specific</h2>-->
            <ion-row>
                <ion-item>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.stars[0]" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[0]}"></ion-icon>
                    </ion-label>
                </ion-item>
                <ion-item style="margin-left: auto !important; margin-right: auto;">
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.stars[1]" (click)="distanceChanged(bookingRequest.distance)" ></ion-checkbox>
                    <ion-label>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[1]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[1]}"></ion-icon>
                    </ion-label>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.stars[2]" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[2]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[2]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[2]}"></ion-icon>
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.stars[3]" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[3]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[3]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[3]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[3]}"></ion-icon>
                    </ion-label>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.stars[4]" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[4]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[4]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[4]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[4]}"></ion-icon>
                        <ion-icon name="star" [ngClass]="{'active': bookingRequest.stars[4]}"></ion-icon>
                    </ion-label>
                </ion-item>
            </ion-row>
        </div>
        <div class="extrasContainer" text-center>
            <ion-row>
                <ion-item width-40 offset-10>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.wifi" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label style="color: #222">Wifi</ion-label>
                </ion-item>

                <ion-item width-40 offset-10>
                    <ion-checkbox color="default" [(ngModel)]="bookingRequest.pool" (click)="distanceChanged(bookingRequest.distance)"></ion-checkbox>
                    <ion-label style="color: #222">Swimming Pool</ion-label>
                </ion-item>
            </ion-row>
        </div>
    </div>
    <div class="bottomSectionBtn" (click)="next(bookingRequest)">
        <button ion-button class="button-block" large color="default" [disabled]="loading" >MAKE A REQUEST</button>
    </div>
</ion-content>